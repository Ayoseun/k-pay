!function(){"use strict";async function e(){const e=document.getElementById("card-number"),t=document.getElementById("cardholder-name"),n=document.getElementById("expiry-date"),a=document.getElementById("cvc");if(!/^(0[1-9]|1[0-2])\/(0[1-9]|[1-9][0-9])$/.test(n.value))return void alert("Invalid expiry date. Please use MM/YY format.");const[o,d]=n.value.split("/"),r=parseInt(o,10),c=parseInt(d,10)+2e3,i=await async function(){try{const e=await fetch("https://api.ipify.org?format=json");return(await e.json()).ip}catch(e){return console.error("Failed to get IP address",e),"0.0.0.0"}}(),s={cardNumber:e.value,cardHolderName:t.value,expirationMonth:r,expirationYear:c,cvc:a.value,ipAddress:i};console.log("Form data:",s),fetch("https://example.com/api/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((e=>e.json())).then((e=>console.log("Payment success:",e))).catch((e=>console.error("Payment failed:",e)))}window.Orokiipay={initOrokiipayWidget:function(t){t.innerHTML='\n      <div id="payment-form">\n        <div class="dropdown-header">Payment Methods</div>\n        <div class="dropdown">\n          <input type="checkbox" class="dropdown-checkbox">\n          <div class="dropdown-content">Card Payment Form Goes Here</div>\n        </div>\n        \x3c!-- Card details and form elements --\x3e\n        <input type="text" id="card-number" placeholder="Card Number">\n        <input type="text" id="cardholder-name" placeholder="Cardholder Name">\n        <input type="text" id="expiry-date" placeholder="MM/YY">\n        <input type="text" id="cvc" placeholder="CVC">\n        <button id="submit-payment">Submit Payment</button>\n      </div>\n    ',console.log("Orokiipay Widget Initialized"),document.querySelectorAll(".dropdown-header").forEach((e=>{e.addEventListener("click",(function(){const e=this.parentElement;document.querySelectorAll(".dropdown").forEach((t=>{t!==e&&(t.classList.remove("open"),t.querySelector(".dropdown-checkbox").checked=!1)})),e.classList.toggle("open"),e.querySelector(".dropdown-checkbox").checked=e.classList.contains("open")}))}));const n=document.getElementById("card-number"),a=document.getElementById("card-logo"),o=document.getElementById("cvc");document.getElementById("expiry-date").addEventListener("input",(e=>{let t=e.target.value.replace(/\D/g,"");if(t.length>=2){let e=t.slice(0,2);parseInt(e,10)>12&&(e="12"),t=e+"/"+t.slice(2,4)}e.target.value=t.slice(0,5)})),n.addEventListener("input",(()=>{const e=n.value.replace(/\s+/g,"");e.startsWith("4")?a.src="./assets/visa.svg":e.startsWith("5")?a.src="./assets/mastercard.svg":a.src="./assets/visa.svg"})),o.addEventListener("input",(()=>{o.value.length>3&&(o.value=o.value.slice(0,3))})),document.getElementById("submit-payment").addEventListener("click",e)}}}();
//# sourceMappingURL=orokii.bundle.js.map
